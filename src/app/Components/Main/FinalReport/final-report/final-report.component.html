<main class="px-sm-2 px-md-5 py-5">
  <section id="patientInfo" class="py-5">
    <div class="container-fluid">
        <div class="row g-0">
            <div class="col-12">
                 <div class="p-4 bg-white rounded-3">
                    <h4 class="px-3">Patient Report</h4>
                    <div id="patientInfoSection" class="d-flex align-items-start justify-content-between px-3">
                        <app-patient-header></app-patient-header>
                        <div [ngStyle]="{'background-color':painLevel.color ,'color':painLevel.textColor}" class="px-3 py-4 rounded-3 painLevel">{{painLevel.name | titlecase}}</div>
                    </div>
                     <div class="d-md-flex justify-content-between d-xl-block px-3 py-2">
                        <div class="flex-md-grow-1 ps-md-1 ps-xl-0"> 
                            <h5>Examination Result</h5>
                            <div class="table-responsive">
                                <table id="emaninationResult" class="text-center table-striped  table-hover table table-sm table-bordered" [class.transpose]="isLargeScreen">
                                <thead>
                                        <tr>
                                        <th class="p-2"  >{{"Date"}}</th>
                                        <th class="p-2"   *ngFor="let key of getObjectKeys(fullAssesmentData);">{{key.replace("_", " ") | titlecase}}</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                        <td class="p-2"  >{{getTodayDate()}}</td>
                                        <td class="p-2 " *ngFor="let key of getObjectKeys(fullAssesmentData) ;">{{(fullAssesmentData[key] ? fullAssesmentData[key] :'-----') | titlecase}}</td>
                                        </tr>
                                    </tbody>
                                    </table>
                            </div>
                        </div>
                     </div>
                    <div class="d-md-flex justify-content-between d-xl-block px-3 py-2">
                        <div class="flex-md-grow-1 pe-md-1 pe-xl-0 pb-2 pb-md-0 pb-xl-2" id='patientVitals'>
                            <h5>Patient Vitals</h5>
                            <div class="table-responsive" >
                                <table   class="text-center table-striped  table-hover table table-sm table-bordered" [class.transpose]="isSmallScreen">
                                <thead>
                                        <tr>
                                        <th class="p-2"   *ngFor="let key of getObjectKeys(patientVitals) ;">{{key.replace("_", " ") | titlecase}}</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                        <td class="p-2 " *ngFor="let key of getObjectKeys(patientVitals) ;">{{patientVitals[key]}}</td>
                                        </tr>
                                    </tbody>
                                    </table>
                            </div>
                        </div>
                        <div class="flex-md-grow-1 ps-md-1 ps-xl-0 py-2 py-md-0 py-xl-2"  id="patientHistory"> 
                            <h5>Patient History</h5>
                            <div class="table-responsive">
                                <table  class="text-center table-striped  table-hover table table-sm table-bordered" [class.transpose]="isSmallScreen">
                                <thead>
                                        <tr >
                                        <th class="p-2"   *ngFor="let key of getObjectKeys(fullPatientHistory);">{{key.replace("_", " ") | titlecase}}</th>
                                        <th class="p-2"  >{{"Prescription" | titlecase}}</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr >
                                        <td class="p-2 " *ngFor="let key of getObjectKeys(fullPatientHistory) ;">{{(fullPatientHistory[key] ? fullPatientHistory[key] :'-----') | titlecase}}</td>
                                        <td class="p-2 ">{{(fullPatientHistoryBeforeRename['presubscribedMedication'] ? 'Yes' :'no') | titlecase}}</td>
                                        </tr>
                                    </tbody>
                                    </table>
                            </div>
                        </div>
                    </div>
                    <!-- <div class="d-md-flex justify-content-between d-xl-block px-3 py-2">
                        <div class="flex-md-grow-1 ps-md-1 ps-xl-0"  id="patientAdditionalInfo"> 
                            <h5>Additional Patient Info</h5>
                            <div class="table-responsive">
                                <table  class="text-center table-striped  table-hover table table-sm table-bordered" [class.transpose]="isLargeScreen">
                                <thead>
                                        <tr>
                                        <th class="p-2" >{{"Prescription Names" | titlecase}}</th>
                                        <th class="p-2"  >{{"Symptoms" | titlecase}}</th>
                                        <th class="p-2"  >{{"permanent Diseases" | titlecase}}</th>
                                        <th class="p-2"  >{{"More Info" | titlecase}}</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                        <td class="p-2">{{(fullPatientHistoryBeforeRename['presubscribedMedication'] ? fullPatientHistoryBeforeRename['presubscribedMedication']  :'-----') | titlecase}}</td>
                                        <td class="p-2" >
                                             <span *ngFor="let symptom of symptoms ; let last=last;">
                                                {{ symptom ? symptom : '----' }}{{ last ? '' : ',' }}
                                            </span>
                                        </td>  
                                        <td class="p-2">
                                                 <span  *ngFor="let symptom of permanentDiseases ; let last=last;">
                                                        {{ symptom ? symptom : '----' }}{{ last ? '' : ',' }}
                                                </span>
                                        </td>  
                                        <td class="p-2">
                                              {{ fullPatientHistoryBeforeRename.additionalInfo ? 
                                                fullPatientHistoryBeforeRename.additionalInfo : '-----' }}
                                        </td>
                                    </tr>
                                    </tbody>
                                    </table>
                            </div>
                        </div>
                    </div> -->
                    <app-navigation-buttons 
                            [PreviousPageUrl]="'/Assesment'" [NextPageUrl]="'/'"
                            [NextButtonDisabled]="false"   [MoreCLasses]="' pt-4'" 
                            [Key]="'patientReport'" [value]="patientReportData" [actionName]="'Done'">
                    </app-navigation-buttons>
                    </div>
                </div>
            </div>
        </div>   
  </section>
</main>